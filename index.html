<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Auto Insights Dashboard</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Libraries (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@4.0.0/dist/chartjs-plugin-zoom.umd.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-2.25.2.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <header>
    <div class="brand">
      <h1>Dataset Analyzer</h1>
  
      <!-- Your profiles -->
      <nav class="socials" aria-label="Profile links">
        <!-- TODO: replace USERNAME with yours -->
        <a class="social" href="https://www.linkedin.com/in/aryansingh19461/" target="_blank" rel="noopener" aria-label="LinkedIn">
          <!-- LinkedIn icon -->
          <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true"><path fill="currentColor" d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM0 8h5v16H0zM8 8h4.8v2.2h.07c.67-1.2 2.3-2.47 4.73-2.47C21.8 7.73 24 9.7 24 13.36V24h-5v-9c0-2.14-.77-3.6-2.7-3.6-1.47 0-2.35.99-2.73 1.95-.14.34-.18.81-.18 1.29V24H8V8z"/></svg>
          <span class="social-text">Aryan Singh</span>
        </a>
        <a class="social" href="github.com/aryan19461?tab=repositories" target="_blank" rel="noopener" aria-label="GitHub">
          <!-- GitHub icon -->
          <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true"><path fill="currentColor" d="M12 .5a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58v-2.03c-3.34.73-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.1-.75.08-.73.08-.73 1.22.09 1.86 1.25 1.86 1.25 1.08 1.85 2.84 1.32 3.53 1.01.11-.8.42-1.32.77-1.62-2.66-.3-5.46-1.33-5.46-5.9 0-1.3.47-2.37 1.24-3.2-.12-.3-.54-1.52.12-3.17 0 0 1.01-.32 3.3 1.22a11.45 11.45 0 0 1 6 0c2.29-1.54 3.29-1.22 3.29-1.22.66 1.65.24 2.87.12 3.17.77.83 1.23 1.9 1.23 3.2 0 4.59-2.8 5.6-5.47 5.9.43.37.82 1.1.82 2.22v3.29c0 .32.21.7.83.58A12 12 0 0 0 12 .5Z"/></svg>
          <span class="social-text">@Aryan19461</span>
        </a>
      </nav>
    </div>
  
    <div class="controls">
      <input type="file" id="fileInput" accept=".csv, .xlsx, .xls" />
      <button id="exportPdfBtn" disabled>Export Report (PDF)</button>
      <button id="resetBtn" class="btn-secondary">Reset Dashboard</button>
      <button id="brushBtn" class="btn-secondary" disabled>Brush Filter (Shift+Drag)</button>
      <button id="clearFilterBtn" class="btn-secondary hidden">Clear Filter</button>
      <label class="small">Max file size: <strong>100 MB</strong></label>
    </div>
  </header>

  <main id="mainRoot">
    <section id="uploader" class="card">
      <div class="drop-area" id="dropArea"><p>Drag & drop CSV/XLSX here, or click to choose a file</p></div>
    </section>

    <section id="summary" class="card hidden">
      <h2>Dataset Summary</h2>
      <div id="summaryCards" class="grid"></div>
      <pre id="datasetPreview" class="preview"></pre>
    </section>

    <section id="metrics" class="card hidden">
      <h2>Key Metrics</h2>
      <div id="metricsCards" class="metrics-grid"></div>
    </section>

    <section id="insights" class="card hidden">
      <h2>Automatic Insights & Visuals</h2>
      <div id="narratives" class="narratives"></div>

      <!-- Grid A -->
      <div class="charts-grid">
        <div class="chart-card"><canvas id="chartCanvas1"></canvas></div>
        <div class="chart-card"><canvas id="chartCanvas2"></canvas></div>
        <div class="chart-card"><canvas id="chartCanvas3"></canvas></div>
        <div class="chart-card"><canvas id="chartCanvas4"></canvas></div>
      </div>

      <!-- Grid B -->
      <div class="charts-grid">
        <div class="chart-card"><canvas id="chartCanvas5"></canvas></div>
        <div class="chart-card"><canvas id="chartCanvas6"></canvas></div>
        <div id="boxplot" class="chart-card"></div>
        <div id="heatmap" class="chart-card"></div>
      </div>

      <!-- Grid C -->
      <div class="charts-grid">
        <div class="chart-card"><canvas id="chartPareto"></canvas></div>
        <div id="waterfall" class="chart-card"></div>
        <div class="chart-card"><canvas id="chartControl"></canvas></div>
      </div>

      <!-- KPI bullets -->
      <div class="charts-grid">
        <div id="kpiBullets" class="chart-card">
          <div id="bulletsWrap" class="bullets-grid"></div>
        </div>
      </div>

      <!-- Small multiples -->
      <div class="charts-grid">
        <div class="chart-card">
          <h3 class="sm-title">Small-multiples (top categories)</h3>
          <div id="smallMultiples" class="sm-grid"></div>
        </div>
      </div>
    </section>

    <section id="raw" class="card hidden">
      <h2>Raw Data</h2>
      <div class="table-wrap"><table id="dataTable"></table></div>
    </section>

    <!-- Annotation layer -->
    <div id="annotWrapper" class="annot-wrapper hidden"><canvas id="annotCanvas"></canvas></div>
  </main>

  <!-- Floating annotation dock -->
  <div class="annot-dock dock-hidden" id="annotDock">
    <button id="annotToggle" class="dock-btn" title="Annotate">‚úèÔ∏è</button>
    <div id="annotPanel" class="dock-panel hidden" role="dialog" aria-label="Annotation tools">
      <button id="markerBtn" class="dock-icon" title="Marker">‚úèÔ∏è</button>
      <button id="eraserBtn" class="dock-icon" title="Eraser">üßΩ</button>
      <div class="dock-divider"></div>
      <div class="dock-group">
        <button id="paletteToggle" class="dock-icon" title="Color & width">üé®</button>
        <div id="palettePop" class="palette-pop hidden">
          <div class="swatches">
            <button class="swatch" data-color="rgba(255,235,59,0.55)" style="--sw:#ffeb3b" aria-label="Yellow"></button>
            <button class="swatch" data-color="rgba(110,231,183,0.55)" style="--sw:#6ee7b7" aria-label="Mint"></button>
            <button class="swatch" data-color="rgba(96,165,250,0.55)" style="--sw:#60a5fa" aria-label="Blue"></button>
            <button class="swatch" data-color="rgba(244,114,182,0.55)" style="--sw:#f472b6" aria-label="Pink"></button>
            <button class="swatch" data-color="rgba(255,255,255,0.55)" style="--sw:#ffffff" aria-label="White"></button>
          </div>
          <div class="width-row">
            <input id="widthRange" type="range" min="6" max="24" step="1" value="12" />
            <span id="widthVal" class="width-val">12px</span>
          </div>
        </div>
      </div>
      <button id="clearAnnots" class="dock-icon" title="Clear">üóëÔ∏è</button>
    </div>
  </div>

  <footer>
    <small>Follow me on LinkedIn and GitHub</small>
  </footer>

  <script src="script.js"></script>
</body>
</html>
